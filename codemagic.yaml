workflows:
  build-ios:
    name: Build SafeHours iOS
    environment:
      node: 18.16.0
      xcode: latest
    scripts:
      - name: Install dependencies
        script: |
          npm ci
      - name: Build the web app
        script: |
          echo "Starting build..."
          npm run build
      - name: Sync Capacitor to iOS
        script: |
          npx cap sync ios
    artifacts:
      - build/ios/ipa/*.ipa
    publishing:
      email:
        recipients:
          - mr.stacy.m.elliott@gmail.com
